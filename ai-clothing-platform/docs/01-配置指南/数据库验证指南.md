# ðŸ“Š æ•°æ®åº“éªŒè¯æŒ‡å—

## æ–¹æ³•1: Supabase Dashboard (æŽ¨è)

### æ­¥éª¤1: ç™»å½•Supabase

1. è®¿é—® https://supabase.com/dashboard
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. ç‚¹å‡»å·¦ä¾§èœå• "Table Editor"

### æ­¥éª¤2: æŸ¥çœ‹tasksè¡¨

1. æ‰¾åˆ°å¹¶ç‚¹å‡» `tasks` è¡¨
2. æŸ¥çœ‹è¡¨æ•°æ®ï¼Œç¡®è®¤æœ‰ä»¥ä¸‹å­—æ®µï¼š
   - `id` (UUID)
   - `mode` (æ–‡æœ¬ï¼Œé»˜è®¤å€¼'scene')
   - `prompt` (æ–‡æœ¬)
   - `status` (æžšä¸¾: PENDING/PROCESSING/COMPLETED/FAILED)
   - `productImageUrl` (æ–‡æœ¬)
   - `sceneImageUrl` (æ–‡æœ¬)
   - `createdAt` (æ—¶é—´æˆ³)

### æ­¥éª¤3: éªŒè¯modeå­—æ®µ

1. ç‚¹å‡»è¡¨å¤´å³ä¸Šè§’çš„ "Filter" æŒ‰é’®
2. æ·»åŠ ç­›é€‰æ¡ä»¶ï¼š`created_at` | `is not null`
3. æŒ‰ `created_at` é™åºæŽ’åº
4. æŸ¥çœ‹æœ€æ–°è®°å½•çš„ `mode` å­—æ®µå€¼

**é¢„æœŸç»“æžœï¼š**

- åˆ›å»ºä»»åŠ¡æ—¶é€‰æ‹©"åœºæ™¯ç”Ÿå›¾" â†’ `mode = 'scene'`
- åˆ›å»ºä»»åŠ¡æ—¶é€‰æ‹©"è™šæ‹Ÿè¯•è¡£" â†’ `mode = 'tryon'`

---

## æ–¹æ³•2: Supabase SQL Editor

### æ­¥éª¤1: æ‰“å¼€SQL Editor

1. åœ¨Supabase Dashboardä¸­
2. ç‚¹å‡»å·¦ä¾§èœå• "SQL Editor"
3. ç‚¹å‡» "New query"

### æ­¥éª¤2: æ‰§è¡ŒæŸ¥è¯¢SQL

```sql
-- æŸ¥çœ‹æœ€è¿‘5æ¡ä»»åŠ¡è®°å½•
SELECT
  id,
  mode,
  prompt,
  status,
  productImageUrl,
  sceneImageUrl,
  createdAt
FROM tasks
ORDER BY createdAt DESC
LIMIT 5;
```

### æ­¥éª¤3: éªŒè¯ç»“æžœ

**é¢„æœŸè¾“å‡ºç¤ºä¾‹ï¼š**

```
id                  | mode  | prompt                          | status   | createdAt
--------------------+-------+---------------------------------+----------+-------------------
xxx-xxx-xxx         | scene | æ—¶å°šæ¨¡ç‰¹åœ¨çŽ°ä»£å’–å•¡åŽ…              | PENDING  | 2026-01-29 xx:xx:xx
yyy-yyy-yyy         | tryon | çº¢è‰²è¿žè¡£è£™ï¼Œä¼˜é›…æ°”è´¨              | PENDING  | 2026-01-29 xx:xx:xx
```

---

## æ–¹æ³•3: ä½¿ç”¨Prisma Studio (æœ¬åœ°å¼€å‘)

### æ­¥éª¤1: å¯åŠ¨Prisma Studio

```bash
cd /Users/denggui/Documents/trae_projects/PENCILTEST/ai-clothing-platform
npx prisma studio
```

### æ­¥éª¤2: æµè§ˆæ•°æ®

1. æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ http://localhost:5555
2. ç‚¹å‡»å·¦ä¾§ "Task" æ¨¡åž‹
3. æŸ¥çœ‹è®°å½•åˆ—è¡¨ï¼Œç¡®è®¤ `mode` å­—æ®µå­˜åœ¨ä¸”æœ‰æ­£ç¡®å€¼

---

## æ–¹æ³•4: APIæŸ¥è¯¢ (å¼€å‘è€…å·¥å…·)

### æ­¥éª¤1: æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·

æŒ‰ `F12` æˆ–å³é”®ç‚¹å‡»é¡µé¢é€‰æ‹©"æ£€æŸ¥"

### æ­¥éª¤2: åœ¨Consoleä¸­æ‰§è¡Œ

```javascript
// èŽ·å–æœ€è¿‘çš„ä»»åŠ¡
fetch('/api/tasks')
  .then(res => res.json())
  .then(data => {
    console.table(
      data.tasks.map(t => ({
        ID: t.id.substring(0, 8),
        Mode: t.mode,
        Prompt: t.prompt?.substring(0, 20),
        Status: t.status,
      }))
    );
  });
```

### æ­¥éª¤3: æŸ¥çœ‹Consoleè¾“å‡º

ä¼šçœ‹åˆ°æ ¼å¼åŒ–çš„è¡¨æ ¼ï¼ŒåŒ…å«modeå­—æ®µ

---

## ðŸ§ª æµ‹è¯•éªŒè¯æ­¥éª¤

### 1. éªŒè¯Schemaæ˜¯å¦åŒ…å«modeå­—æ®µ

```sql
-- åœ¨Supabase SQL Editoræ‰§è¡Œ
SELECT column_name, data_type, column_default
FROM information_schema.columns
WHERE table_name = 'tasks' AND column_name = 'mode';
```

**é¢„æœŸç»“æžœï¼š**
| column_name | data_type | column_default |
|-------------|-----------|----------------|
| mode | text | 'scene'::text |

### 2. éªŒè¯modeæžšä¸¾å€¼

```sql
-- æŸ¥çœ‹ä¸åŒmodeçš„åˆ†å¸ƒ
SELECT mode, COUNT(*) as count
FROM tasks
GROUP BY mode;
```

### 3. éªŒè¯æœ€æ–°ä»»åŠ¡

```sql
-- æŸ¥çœ‹æœ€æ–°åˆ›å»ºçš„ä»»åŠ¡
SELECT
  mode,
  prompt,
  status,
  createdAt
FROM tasks
ORDER BY createdAt DESC
LIMIT 1;
```

---

## â“ å¸¸è§é—®é¢˜

### Q: modeå­—æ®µæ˜¾ç¤ºä¸ºNULLï¼Ÿ

**A:** è¯´æ˜Žæ•°æ®åº“è¿ç§»æœªæ‰§è¡Œã€‚è¿è¡Œï¼š

```bash
npx prisma db push
```

### Q: modeå­—æ®µä¸å­˜åœ¨ï¼Ÿ

**A:** è¯´æ˜ŽPrisma Clientæœªé‡æ–°ç”Ÿæˆã€‚è¿è¡Œï¼š

```bash
npx prisma generate
```

### Q: å¦‚ä½•é‡ç½®æµ‹è¯•æ•°æ®ï¼Ÿ

**A:** åœ¨SQL Editoræ‰§è¡Œï¼š

```sql
DELETE FROM tasks WHERE created_at > '2026-01-29';
```

---

_æ–‡æ¡£åˆ›å»ºæ—¶é—´: 2026-01-29_
